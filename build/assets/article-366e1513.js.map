{"version":3,"file":"article-366e1513.js","sources":["../../src/service/article.ts"],"sourcesContent":["import axios from \"./request\";\r\nimport { ResponsePageInfoResult, ResponseResult } from \"@/utils\";\r\n\r\ninterface IAddArticle {\r\n  title: string;\r\n  /**文章内容 */\r\n  article_content: string;\r\n  /**作者id */\r\n  author_name: string;\r\n  author_id: number | string;\r\n  /**文章标签 分类 */\r\n  preview_theme: string;\r\n  article_label: string[];\r\n  article_cover: string;\r\n  article_summary: string;\r\n}\r\nexport const addArticle = (data: IAddArticle) => {\r\n  return axios.request<ResponseResult>({\r\n    url: \"/api/article/add/article\",\r\n    method: \"post\",\r\n    data,\r\n  });\r\n};\r\n\r\ninterface IUploadFileParams {\r\n  file: Blob;\r\n}\r\n/* 上传封面 */\r\nexport const uploadArticleCover = (data: IUploadFileParams) => {\r\n  const formData = new FormData();\r\n  formData.append(\"file\", data.file);\r\n  return axios.request<ResponseResult>({\r\n    url: \"/api/article/upload\",\r\n    method: \"POST\",\r\n    data: formData,\r\n  });\r\n};\r\n\r\ninterface IUserArticleListParams {\r\n  author_id: number | string;\r\n  page?: number;\r\n  page_size?: number;\r\n}\r\n\r\n/* 获取当前用户文章列表 */\r\nexport const getUserArticleList = (data: IUserArticleListParams) => {\r\n  return axios.request<ResponseResult>({\r\n    url: \"/api/article/user/article/list\",\r\n    method: \"get\",\r\n    params: data,\r\n  });\r\n};\r\n\r\n/** 查看文章 */\r\ninterface IGetArticleParams {\r\n  article_id: number;\r\n}\r\nexport const getArticle = (data: IGetArticleParams) => {\r\n  return axios.request<ResponseResult<IGetSearchArticleListRes>>({\r\n    url: \"/api/article/get/article\",\r\n    method: \"get\",\r\n    params: data,\r\n  });\r\n};\r\n\r\ninterface getSearchArticleList {\r\n  search?: string;\r\n  page?: number;\r\n  page_size?: number;\r\n}\r\nexport interface IGetSearchArticleListRes {\r\n  article_id: number;\r\n  title: string;\r\n  create_at: string;\r\n  article_content: string;\r\n  author_id: number;\r\n  update_at: object;\r\n  article_cover: string;\r\n  viewers: number;\r\n  like: number;\r\n  article_label: string[];\r\n  article_summary: string;\r\n  preview_theme: string;\r\n  author_name: string;\r\n  username: string;\r\n  nickname: string;\r\n  avatar: string;\r\n}\r\n\r\n/** 获取所有文章 */\r\nexport const getSearchArticleList = (data: getSearchArticleList) => {\r\n  return axios.request<\r\n    ResponseResult<ResponsePageInfoResult<IGetSearchArticleListRes[]>>\r\n  >({\r\n    url: \"/api/article/all/article/list\",\r\n    method: \"get\",\r\n    params: data,\r\n  });\r\n};\r\n\r\n/** 获取推荐文章 */\r\nexport const getRecommendArticleList = (data: getSearchArticleList) => {\r\n  return axios.request<\r\n    ResponseResult<ResponsePageInfoResult<IGetSearchArticleListRes[]>>\r\n  >({\r\n    url: \"/api/article/recommend/article/list\",\r\n    method: \"get\",\r\n    params: data,\r\n  });\r\n};\r\n"],"names":["addArticle","data","axios","uploadArticleCover","formData","getUserArticleList","getArticle","getSearchArticleList","getRecommendArticleList"],"mappings":"0CAgBa,MAAAA,EAAcC,GAClBC,EAAM,QAAwB,CACnC,IAAK,2BACL,OAAQ,OACR,KAAAD,CAAA,CACD,EAOUE,EAAsBF,GAA4B,CACvD,MAAAG,EAAW,IAAI,SACZ,OAAAA,EAAA,OAAO,OAAQH,EAAK,IAAI,EAC1BC,EAAM,QAAwB,CACnC,IAAK,sBACL,OAAQ,OACR,KAAME,CAAA,CACP,CACH,EASaC,EAAsBJ,GAC1BC,EAAM,QAAwB,CACnC,IAAK,iCACL,OAAQ,MACR,OAAQD,CAAA,CACT,EAOUK,EAAcL,GAClBC,EAAM,QAAkD,CAC7D,IAAK,2BACL,OAAQ,MACR,OAAQD,CAAA,CACT,EA4BUM,EAAwBN,GAC5BC,EAAM,QAEX,CACA,IAAK,gCACL,OAAQ,MACR,OAAQD,CAAA,CACT,EAIUO,EAA2BP,GAC/BC,EAAM,QAEX,CACA,IAAK,sCACL,OAAQ,MACR,OAAQD,CAAA,CACT"}